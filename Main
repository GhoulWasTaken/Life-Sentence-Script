-- Spirit X

--[[ FEATURES

Auto rob
Move when downed
Kicks you when an admin joins
Mods guns
Auto pick up items and money
Auto buy ammo
Auto reload (because the game doesn't have it)
Remove the jump cooldown
If you say someones name in chat it will print what they have in their locker

]]



local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local LocalPlayerName = LocalPlayer.Name
local AV = require(game:GetService("ReplicatedStorage").GunConfigs)
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local PlayerStats = ReplicatedStorage.PlayerStats

AdminKick = true -- kicks when an admin joins
AutoRob = true
PickUpDroppedItems = false

AV["Glock"].CoolDown = 0.01
AV["Glock"].IsAutomatic = true

AV["Assault Rifle"].CoolDown = 0.01

LocalPlayer.Backpack.Local.CombatMain:Destroy()
if game:GetService("StarterPack").Local:FindFirstChild("CombatMain") then game:GetService("StarterPack").Local:FindFirstChild("CombatMain"):Destroy() end
loadstring(game:HttpGet("https://raw.githubusercontent.com/GhoulWasTaken/Life-Sentence-Script/main/CombatMain%20Replacement", true))()

local adminList = {
    "5y6x",
    "Ebonkin",
    "AP600",
    "KlaKoon",
    "TravelingScript",
    "WlNTER_E",
    "Academia202",
    "TRlP_E",
    "EliteAshleyrow69",
    "ItsRainingPizza",
    "Sinister_Guesty",
    "ledgerbart", 
    "AwesomegamerPC",
    "NorthEtunic"
    }

spawn(function()
    while wait(0.5) do
        if not AutoRob then break end
        for i,v in pairs(workspace.Robbable:GetChildren()) do
        if v.Name == "Safe" or "Register" then
            --print("1")
            --if v.Door.Rotation == Vector3.new(0, 45, 0) then
                --print("2")
                fireproximityprompt(v.Door.Attachment.ProximityPrompt, 1000)
                fireproximityprompt(v.Door.Attachment.ProximityPrompt, 1000)
            end
        end
    end
end)

spawn(function()
   while wait(0.5) do
       for i,v in pairs(workspace.LootSpawns:GetChildren()) do
           fireproximityprompt(v.Part.Attachment.ProximityPrompt, 1000)
       end
   end
end)

spawn(function()
    while wait(0.1) do
        for i,v in pairs(workspace:GetChildren()) do
            if v.Name == "DroppedCash" then
                fireproximityprompt(v.ProximityPrompt, 1000)
            end
        end
    end
end)

spawn(function()
    while wait(0.1) do
       if not PickUpDroppedItems then break end
       if PickUpDroppedItems then
          for i,v in pairs(workspace:GetChildren()) do
              if v.Name == "Model" and v:FindFirstChild("ProximityPrompt") and v:FindFirstChild("MainPart").Take and PickUpDroppedItems  then
                 fireproximityprompt(v.ProximityPrompt, 1000) 
              end
          end
          
        else
            break
       end
    end
end)

spawn(function()
    while wait(0.1) do
        if LocalPlayer.Backpack.Local:FindFirstChild("Dead") then
            game:GetService("Players").LocalPlayer.Backpack.Local.Dead:Destroy()
        end
        
        if LocalPlayer.Backpack.Stats.Downed == true then
            LocalPlayer.Backpack.Stats.Downed = false
        end
        
        if LocalPlayer.Character.Humanoid.JumpPower == 0 then
            LocalPlayer.Character.Humanoid.JumpPower = 50
        end
        
        --if tonumber(PlayerStats[LocalPlayerName].SolitaryTime) > 0 then
           --PlayerStats[LocalPlayerName].SolitaryTime = 0
        --end
        
        for i,v in pairs(LocalPlayer.Character:GetChildren()) do
           if v.ClassName == "Tool" and v:FindFirstChild("Muzzle") then
              if LocalPlayer.PlayerGui.HUD.Ammo.ReserveAmmo.Text == "0" then
                print("No ammo left in reserve.")
                  
                local args = {
                [1] = "BuyAmmo",
                [2] = v.Name
                }

                game:GetService("ReplicatedStorage").Events.GunEvent:FireServer(unpack(args))

              end
              
              if LocalPlayer.PlayerGui.HUD.Ammo.ClipAmmo.Text == "0" then

                local args = {
                [1] = "Reload"
                }

                game:GetService("ReplicatedStorage").Events.GunEvent:FireServer(unpack(args))
              end
           end
        end
    end
end)



Players.PlayerAdded:Connect(function(player)
    for i,v in pairs(adminList) do
        if player.Name == v and AdminKick then
            LocalPlayer:Kick(player.name.."has joined and you are probably gonna get banned.")
        end
    end
end)

spawn(function()
    while wait(1) do
        for i,player in pairs(game:GetService("Players"):GetChildren()) do
            player.Chatted:Connect(function(msg)
                if game:GetService("Players"):FindFirstChild(msg) then
                    getLockerItems(msg)
                    wait(2)
                end
            end)
        end
    end
end)

function getLockerItems(msg)
    for i,v in pairs(game:GetService("ReplicatedStorage").PlayerStats[msg].LockerFolder:GetChildren()) do
       print(i, v.ToolName.Value) 
    end
end

-- NOT MINE --

-- Variables
local player = game.Players.LocalPlayer
local mouse = player:GetMouse()

-- Settings

bind = "" 
bind2 = "t"

-- Script

mouse.KeyDown:connect(function(key)
if key == bind then
player.Character.HumanoidRootPart.CFrame = CFrame.new(1254.09656, 137.906067, -172.128204)
end
end)

mouse.KeyDown:connect(function(key2)
if key2 == bind2 then
_G.HeadSize = 20
_G.Disabled = true


if _G.Disabled then
for i,v in next, game:GetService('Players'):GetPlayers() do
if v.Name ~= game:GetService('Players').LocalPlayer.Name then
pcall(function()
v.Character.HumanoidRootPart.Size = Vector3.new(_G.HeadSize,_G.HeadSize,_G.HeadSize)
v.Character.HumanoidRootPart.Transparency = 0.7
v.Character.HumanoidRootPart.BrickColor = BrickColor.new("Really blue")
v.Character.HumanoidRootPart.Material = "Neon"
v.Character.HumanoidRootPart.CanCollide = false
end)
end
end
end
end
end)

-- END OF THE HITBOX EXPANDER I DIDN'T MAKE --

--[[
spawn(function()
    Players.PlayerAdded:Connect(function(player)
        player.Chatted:Connect(function(msg)
            --if string.find(msg, "/view") then
                --local args = string.split(msg, " ")
                    for i,v in pairs(game:GetService("ReplicatedStorage").PlayerStats[msg].LockerFolder:GetChildren()) do
                        print(v.ToolName.Value)
                    end
                end)
            end)
        end)
    end)
    ]]
